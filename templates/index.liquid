<!-- LUCINE MINIMAL -->
<script>
console.log('ðŸŽ¯ INDEX.LIQUID TEMPLATE LOADED');
console.log('ðŸ“‹ MENU ITEMS:');
{% assign main_menu = linklists['menu-principale'] %}
{% for link in main_menu.links %}
console.log('{{ forloop.index }}. {{ link.title }} - URL: {{ link.url }}');
{% endfor %}
</script>

<!-- Video Background -->
<div class="video-bg">
  <video autoplay muted loop playsinline>
    <source src="https://cdn.shopify.com/videos/c/o/v/088cf9e084664519ad8bf3af537b87fe.mp4" type="video/mp4">
  </video>
</div>

<!-- Navigation Container -->
<div class="navigation-container" data-tabs-section>
  <!-- Mobile Burger Menu -->
  <div class="mobile-header">
    <button class="burger-menu" onclick="toggleMobileFooter()" aria-label="Apri menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Mobile Cart Icon -->
  <div class="mobile-cart-icon">
    <a href="{% if cart.item_count > 0 %}/cart{% else %}/products/biglietto-parco-lucine-di-natale-2025{% endif %}" aria-label="Carrello">
      <svg class="cart-icon" viewBox="0 0 24 24">
        <path d="M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
      </svg>
      {% if cart.item_count > 0 %}
        <span class="cart-count">{{ cart.item_count }}</span>
      {% endif %}
    </a>
  </div>

  <!-- Include sidebar navigation -->
  {% assign current_page_title = 'Home' %}
  {% render 'sidebar-navigation' %}

  <!-- Content Area -->
  <div class="content-wrapper">
    <div class="content show">
      <div class="formatted-content">
        <!-- Homepage vuota - solo video background -->
      </div>
    </div>
  </div> <!-- end content-wrapper -->
</div>

<!-- GLOBAL FOOTER - Outside tabs, triggered by scroll (mobile only) -->
{% render 'footer-snap' %}

<!-- ERUDA MOBILE DEBUGGER (TEMPORARY) -->
<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
<script>
  eruda.init();
  
  // Log collector for easy copy/paste
  window.debugLogs = [];
  const originalLog = console.log;
  console.log = function(...args) {
    // Store logs with timestamp
    const timestamp = new Date().toLocaleTimeString();
    window.debugLogs.push(`[${timestamp}] ${args.join(' ')}`);
    // Keep max 100 logs to avoid memory issues
    if (window.debugLogs.length > 100) {
      window.debugLogs.shift();
    }
    originalLog.apply(console, args);
  };
  
  // Function to copy all logs
  window.copyLogs = function() {
    const allLogs = window.debugLogs.join('\n');
    navigator.clipboard.writeText(allLogs).then(() => {
      alert('Logs copiati negli appunti!');
    }).catch(() => {
      // Fallback: show logs in alert for manual copy
      prompt('Copia questi logs:', allLogs);
    });
  };
</script>

<!-- BACK TO TOP BUTTON -->
<button id="back-to-top" onclick="scrollToTop()">â†‘</button>

