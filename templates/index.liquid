<!-- LUCINE MINIMAL -->
<script>
console.log('üéØ INDEX.LIQUID TEMPLATE LOADED');
console.log('üìã MENU ITEMS:');
{% assign main_menu = linklists['menu-principale'] %}
{% for link in main_menu.links %}
console.log('{{ forloop.index }}. {{ link.title }} - URL: {{ link.url }}');
{% endfor %}
</script>

<!-- Video Background -->
<div class="video-bg">
  <video autoplay muted loop playsinline>
    <source src="https://cdn.shopify.com/videos/c/o/v/088cf9e084664519ad8bf3af537b87fe.mp4" type="video/mp4">
  </video>
  <div class="video-overlay"></div>
</div>

<!-- Navigation Container -->
<div class="navigation-container" data-tabs-section>
  <!-- Mobile Burger Menu -->
  <div class="mobile-header">
    <button class="burger-menu" onclick="toggleMobileFooter()" aria-label="Apri menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Include sidebar navigation -->
  {% assign current_page_title = 'Home' %}
  {% render 'sidebar-navigation' %}

  <!-- Content Area -->
  <div class="content-wrapper">
    <div class="content show">
      <div class="formatted-content">
        <!-- Homepage vuota - solo video background -->
      </div>
    </div>
  </div> <!-- end content-wrapper -->
</div>

<!-- Desktop Features Carousel -->
<div class="desktop-features-carousel">
  <div class="carousel-header">
    <p class="carousel-dates">Dal 6 dicembre al 6 gennaio</p>
  </div>
  
  <div class="carousel-container">
    <button class="carousel-nav carousel-prev" onclick="desktopCarouselPrev()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>
    
    <div class="carousel-track-wrapper">
      <div class="carousel-track">
        <!-- Clone last 4 slides at beginning for seamless loop -->
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-6">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="9 12 8 10 6 14" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üéÑ</div>
            <h4>Mercatino natalizio</h4>
            <p>Artigianato locale e regali unici per tutti</p>
          </div>
        </div>
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-1">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="14 8 6 12 10 9" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üé≠</div>
            <h4>Eventi speciali</h4>
            <p>Spettacoli e animazioni per grandi e piccini</p>
          </div>
        </div>
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-2">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="6 14 8 10 12 9" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üé®</div>
            <h4>+20 installazioni fatte a mano</h4>
            <p>Opere d'arte uniche create dai nostri artigiani</p>
          </div>
        </div>
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-3">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="10 6 14 8 12 9" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üêï</div>
            <h4>Pet friendly</h4>
            <p>Benvenuti anche i tuoi amici a quattro zampe</p>
          </div>
        </div>
        <!-- Original slides -->
        <div class="carousel-slide">
        <div class="sketch-card sketch seed-1">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="14 8 6 12 10 9" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üí°</div>
          <h4>+1 milione di lucine</h4>
          <p>Un mare di luci che illumina la magia del Natale</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-2">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="6 14 8 10 12 9" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üó∫Ô∏è</div>
          <h4>1km di percorso</h4>
          <p>Un viaggio incantato attraverso le meraviglie natalizie</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-3">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="10 6 14 8 12 9" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üöå</div>
          <h4>Servizio navetta gratuito</h4>
          <p>Comodo trasporto direttamente all'ingresso</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-4">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="8 10 6 14 9 12" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üÖøÔ∏è</div>
          <h4>Parcheggio gratuito</h4>
          <p>Ampi spazi per la tua auto senza costi aggiuntivi</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-5">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="12 8 10 6 14 9" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üçï</div>
          <h4>Stand gastronomico</h4>
          <p>Delizie locali per rendere perfetta la tua visita</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-6">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="9 12 8 10 6 14" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üéÑ</div>
          <h4>Mercatino natalizio</h4>
          <p>Artigianato locale e regali unici per tutti</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-1">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="14 8 6 12 10 9" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üé≠</div>
          <h4>Eventi speciali</h4>
          <p>Spettacoli e animazioni per grandi e piccini</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-2">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="6 14 8 10 12 9" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üé®</div>
          <h4>+20 installazioni fatte a mano</h4>
          <p>Opere d'arte uniche create dai nostri artigiani</p>
        </div>
      </div>
      
      <div class="carousel-slide">
        <div class="sketch-card sketch seed-3">
          <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
            <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="10 6 14 8 12 9" vector-effect="non-scaling-stroke"/>
          </svg>
          <div class="feature-icon">üêï</div>
          <h4>Pet friendly</h4>
          <p>Benvenuti anche i tuoi amici a quattro zampe</p>
        </div>
      </div>
        <!-- Clone first 4 slides at end for seamless loop -->
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-1">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="14 8 6 12 10 9" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üí°</div>
            <h4>+1 milione di lucine</h4>
            <p>Un mare di luci che illumina la magia del Natale</p>
          </div>
        </div>
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-2">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="6 14 8 10 12 9" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üó∫Ô∏è</div>
            <h4>1km di percorso</h4>
            <p>Un viaggio incantato attraverso le meraviglie natalizie</p>
          </div>
        </div>
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-3">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="10 6 14 8 12 9" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üöå</div>
            <h4>Servizio navetta gratuito</h4>
            <p>Comodo trasporto direttamente all'ingresso</p>
          </div>
        </div>
        <div class="carousel-slide clone">
          <div class="sketch-card sketch seed-4">
            <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
              <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="8 10 6 14 9 12" vector-effect="non-scaling-stroke"/>
            </svg>
            <div class="feature-icon">üÖøÔ∏è</div>
            <h4>Parcheggio gratuito</h4>
            <p>Ampi spazi per la tua auto senza costi aggiuntivi</p>
          </div>
        </div>
      </div>
    </div>
    
    <button class="carousel-nav carousel-next" onclick="desktopCarouselNext()">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>
  </div>
  
  <div class="carousel-cta">
    <a href="/products/biglietto-parco-lucine-di-natale-2025" class="cta-button">
      Acquista Biglietti
    </a>
  </div>
</div>

<!-- Mobile Features Slideshow (completely outside navigation container) -->
<div class="mobile-features-slideshow">
  <div class="slideshow-content">
    <div class="slideshow-header">
      <p class="slideshow-dates">Dal 6 dicembre al 6 gennaio</p>
    </div>
    <div class="features-container">
      <div class="features-slide active">
        <div class="sketch-card sketch seed-1">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="14 8 6 12 10 9" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üí°</div>
                <h4>+1 milione di lucine</h4>
                <p>Un mare di luci che illumina la magia del Natale</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-2">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="6 14 8 10 12 9" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üó∫Ô∏è</div>
                <h4>1km di percorso</h4>
                <p>Un viaggio incantato attraverso le meraviglie natalizie</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-3">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="10 6 14 8 12 9" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üöå</div>
                <h4>Servizio navetta gratuito</h4>
                <p>Comodo trasporto direttamente all'ingresso</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-4">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="8 10 6 14 9 12" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üÖøÔ∏è</div>
                <h4>Parcheggio gratuito</h4>
                <p>Ampi spazi per la tua auto senza costi aggiuntivi</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-5">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="12 8 10 6 14 9" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üçï</div>
                <h4>Stand gastronomico</h4>
                <p>Delizie locali per rendere perfetta la tua visita</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-6">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="9 12 8 10 6 14" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üéÑ</div>
                <h4>Mercatino natalizio</h4>
                <p>Artigianato locale e regali unici per tutti</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-1">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="14 8 6 12 10 9" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üé≠</div>
                <h4>Eventi speciali</h4>
                <p>Spettacoli e animazioni per grandi e piccini</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-2">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="6 14 8 10 12 9" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üé®</div>
                <h4>+20 installazioni fatte a mano</h4>
                <p>Opere d'arte uniche create dai nostri artigiani</p>
              </div>
            </div>
            
            <div class="features-slide">
              <div class="sketch-card sketch seed-3">
                <svg class="sketch-border" viewBox="0 0 100 100" aria-hidden="true" preserveAspectRatio="none">
                  <rect x="4" y="4" width="92" height="92" rx="12" fill="none" stroke="currentColor" stroke-width="3.2" stroke-linecap="round" stroke-dasharray="10 6 14 8 12 9" vector-effect="non-scaling-stroke"/>
                </svg>
                <div class="feature-icon">üêï</div>
                <h4>Pet friendly</h4>
                <p>Benvenuti anche i tuoi amici a quattro zampe</p>
              </div>
            </div>
          </div>
          
          <!-- Purchase button -->
          <div class="features-cta">
            <a href="/products/biglietto-parco-lucine-di-natale-2025" class="cta-button">
              Acquista Biglietti
            </a>
          </div>
    </div>
  </div>
</div>

<style>
/* Desktop Features Carousel - Only visible on desktop */
.desktop-features-carousel {
  display: none;
  position: fixed;
  bottom: 20%;
  left: calc(300px + ((100% - 300px) / 2)); /* Account for sidebar */
  transform: translateX(-50%);
  width: calc(100% - 350px);
  max-width: 1200px;
  z-index: 100;
  pointer-events: auto;
}

/* Show only on desktop */
@media (min-width: 1024px) {
  .desktop-features-carousel {
    display: block;
  }
}

.carousel-header {
  text-align: center;
  margin-bottom: 1.5rem;
}

.carousel-dates {
  color: #FFFFFF;
  font-size: 24px;
  font-weight: 600;
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 10px 20px;
  display: inline-block;
}

.carousel-container {
  position: relative;
  display: flex;
  align-items: center;
  gap: 2rem;
  margin-bottom: 1.5rem;
  max-width: 100%;
}

.carousel-track-wrapper {
  overflow: hidden;
  flex: 1;
  position: relative;
}

.carousel-track {
  display: flex;
  gap: 1.5rem;
  padding: 10px;
  transition: transform 0.5s ease;
  transform: translateX(calc(-100% / 4 * 4)); /* Start at real first slide, not clones */
}

.carousel-slide {
  flex: 0 0 calc(25% - 1.125rem);
  transition: none; /* Remove individual slide transitions */
}

.carousel-slide .sketch-card {
  min-height: 250px;
  padding: 1.5rem;
  text-align: center;
  position: relative;
}

/* Remove individual card backgrounds - now using video overlay */

/* Position SVG and content */
.desktop-features-carousel .sketch-border {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.desktop-features-carousel .feature-icon,
.desktop-features-carousel .sketch-card h4,
.desktop-features-carousel .sketch-card p {
  position: relative;
  z-index: 2;
}

.desktop-features-carousel .feature-icon {
  font-size: 2.5rem;
  margin-bottom: 0.8rem;
}

.desktop-features-carousel .sketch-card h4 {
  color: #FFFFFF;
  font-size: 32px;
  font-weight: 700;
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.desktop-features-carousel .sketch-card p {
  color: #FFFFFF;
  font-size: 19px;
  line-height: 1.3;
  margin: 0;
}

/* Navigation arrows */
.carousel-nav {
  background: rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  width: 48px;
  height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: white;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

.carousel-nav:hover {
  background: rgba(0, 0, 0, 0.6);
  border-color: rgba(255, 255, 255, 0.5);
  transform: scale(1.1);
}

.carousel-cta {
  text-align: center;
}

/* Mobile Features Slideshow - Only visible on mobile */
.mobile-features-slideshow {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 380px;
  z-index: 100;
  pointer-events: auto;
}

/* Show only on mobile */
@media (max-width: 1023px) {
  .mobile-features-slideshow {
    display: block;
  }
}

.slideshow-header {
  text-align: center;
  margin-bottom: 1.5rem;
}

.slideshow-dates {
  color: #FFFFFF;
  font-size: 19px;
  font-weight: 600;
  margin: 0 0 1rem 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 8px 16px;
  display: inline-block;
}

.features-container {
  position: relative;
  overflow: visible;
  height: 240px;
  margin-bottom: 1.5rem;
}

.features-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.features-slide.active {
  opacity: 1;
}


/* Mobile Features Cards - use sketch-card system with proper background */
.mobile-features-slideshow .sketch-card {
  min-height: 220px;
  background: none !important;
  padding: 1.5rem;
  margin: 0;
  text-align: center;
  position: relative;
}

/* SVG behind content */
.mobile-features-slideshow .sketch-border {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}


/* Content above background */
.mobile-features-slideshow .feature-icon,
.mobile-features-slideshow .sketch-card h4,
.mobile-features-slideshow .sketch-card p {
  position: relative;
  z-index: 2;
}

/* No blur on containers anymore */

.mobile-features-slideshow .feature-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

.mobile-features-slideshow .sketch-card h4 {
  color: #FFFFFF !important;
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 0.6rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.mobile-features-slideshow .sketch-card p {
  color: #FFFFFF !important;
  font-size: 16px;
  line-height: 1.3;
  margin: 0;
}

/* CTA Button */
.features-cta {
  text-align: center;
  margin-top: 1.5rem;
}

.cta-button {
  display: inline-block;
  background: #DC2626 !important;
  color: rgb(255, 255, 255) !important;
  text-decoration: none !important;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 16px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.5);
  transition: all 0.3s ease;
  border: 1.66667px solid #DC2626 !important;
  backdrop-filter: blur(15px);
  font-family: "Providence Sans", -apple-system, sans-serif;
}

.cta-button:hover {
  background: #B91C1C !important;
  color: #FFFFFF !important;
  text-decoration: none !important;
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
  border-color: #B91C1C !important;
}

/* Touch/Swipe area */
.features-container {
  touch-action: pan-y;
  user-select: none;
}
/* Video overlay for uniform background */
.video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.35);
  pointer-events: none;
}
</style>

<script>
// Desktop Carousel Controller with infinite loop
let desktopCarouselIndex = 4; // Start at first real slide (after 4 clones)
const totalSlides = 9;
const slidesPerView = 4;
let isTransitioning = false;

function updateDesktopCarousel(instant = false) {
  const track = document.querySelector('.carousel-track');
  
  if (!track) return;
  
  // Temporarily disable transition for instant repositioning
  if (instant) {
    track.style.transition = 'none';
  }
  
  // Move the entire track
  const slideWidth = 100 / slidesPerView;
  const offset = -desktopCarouselIndex * slideWidth;
  track.style.transform = `translateX(${offset}%)`;
  
  // Re-enable transition after instant move
  if (instant) {
    setTimeout(() => {
      track.style.transition = 'transform 0.5s ease';
    }, 10);
  }
}

function desktopCarouselNext() {
  if (isTransitioning) return;
  isTransitioning = true;
  
  desktopCarouselIndex++;
  updateDesktopCarousel();
  
  // Check if we've reached the cloned slides at the end
  if (desktopCarouselIndex >= totalSlides + 4) {
    setTimeout(() => {
      desktopCarouselIndex = 4; // Jump back to first real slide
      updateDesktopCarousel(true);
      isTransitioning = false;
    }, 500);
  } else {
    setTimeout(() => {
      isTransitioning = false;
    }, 500);
  }
}

function desktopCarouselPrev() {
  if (isTransitioning) return;
  isTransitioning = true;
  
  desktopCarouselIndex--;
  updateDesktopCarousel();
  
  // Check if we've reached the cloned slides at the beginning
  if (desktopCarouselIndex < 4) {
    setTimeout(() => {
      desktopCarouselIndex = totalSlides + 3; // Jump to last real slide
      updateDesktopCarousel(true);
      isTransitioning = false;
    }, 500);
  } else {
    setTimeout(() => {
      isTransitioning = false;
    }, 500);
  }
}

// Initialize carousel position
document.addEventListener('DOMContentLoaded', function() {
  updateDesktopCarousel(true);
});

// Auto-advance carousel
setInterval(() => {
  if (window.innerWidth >= 1024) {
    desktopCarouselNext();
  }
}, 5000);

// Mobile Features Slideshow Controller
document.addEventListener('DOMContentLoaded', function() {
  const slideshow = document.querySelector('.mobile-features-slideshow');
  const container = document.querySelector('.features-container');
  const slides = document.querySelectorAll('.features-slide');
  const indicators = document.querySelectorAll('.indicator');
  
  if (!slideshow || slides.length === 0) return;
  
  let currentSlide = 0;
  let startX = 0;
  let isTouch = false;
  let autoSlideInterval;
  
  // Auto-slide functionality
  function startAutoSlide() {
    autoSlideInterval = setInterval(() => {
      nextSlide();
    }, 4000); // Change slide every 4 seconds
  }
  
  function stopAutoSlide() {
    clearInterval(autoSlideInterval);
  }
  
  // Slide navigation
  function goToSlide(index) {
    // Remove all classes
    slides.forEach(slide => {
      slide.classList.remove('active', 'prev');
    });
    
    indicators.forEach(indicator => {
      indicator.classList.remove('active');
    });
    
    // Set current slide
    slides[index].classList.add('active');
    indicators[index].classList.add('active');
    
    currentSlide = index;
  }
  
  function nextSlide() {
    const next = (currentSlide + 1) % slides.length;
    goToSlide(next);
  }
  
  function prevSlide() {
    const prev = (currentSlide - 1 + slides.length) % slides.length;
    goToSlide(prev);
  }
  
  // Touch/Swipe handling
  container.addEventListener('touchstart', (e) => {
    startX = e.touches[0].clientX;
    isTouch = true;
    stopAutoSlide();
  });
  
  container.addEventListener('touchmove', (e) => {
    if (!isTouch) return;
    e.preventDefault(); // Prevent scrolling
  });
  
  container.addEventListener('touchend', (e) => {
    if (!isTouch) return;
    
    const endX = e.changedTouches[0].clientX;
    const deltaX = startX - endX;
    const threshold = 50; // Minimum swipe distance
    
    if (Math.abs(deltaX) > threshold) {
      if (deltaX > 0) {
        nextSlide(); // Swipe left = next slide
      } else {
        prevSlide(); // Swipe right = previous slide
      }
    }
    
    isTouch = false;
    startAutoSlide(); // Restart auto-slide
  });
  
  // Click indicators - removed since no indicators
  
  // Pause auto-slide on hover/touch
  slideshow.addEventListener('mouseenter', stopAutoSlide);
  slideshow.addEventListener('mouseleave', startAutoSlide);
  
  // Start auto-slide
  startAutoSlide();
  
  console.log('üé† Mobile Features Slideshow initialized with', slides.length, 'slides');
  console.log('üì± Screen width:', window.innerWidth);
  console.log('üéØ Slideshow element:', slideshow);
  console.log('üì¶ Slideshow display style:', window.getComputedStyle(slideshow).display);
  
  // Debug positioning and styles
  const slideshowRect = slideshow.getBoundingClientRect();
  console.log('üìè Slideshow position:', {
    top: slideshowRect.top,
    left: slideshowRect.left,
    width: slideshowRect.width,
    height: slideshowRect.height
  });
  
  // Check for style conflicts
  const activeSlide = document.querySelector('.features-slide.active');
  if (activeSlide) {
    const cardStyles = window.getComputedStyle(activeSlide.querySelector('.feature-card'));
    console.log('üé® Card styles:', {
      background: cardStyles.background,
      color: cardStyles.color,
      border: cardStyles.border,
      zIndex: cardStyles.zIndex
    });
  }
  
  // Check button styles
  const ctaButton = document.querySelector('.cta-button');
  if (ctaButton) {
    const buttonStyles = window.getComputedStyle(ctaButton);
    console.log('üîò Button styles:', {
      background: buttonStyles.background,
      color: buttonStyles.color,
      border: buttonStyles.border
    });
  }
});
</script>


<!-- ERUDA MOBILE DEBUGGER (TEMPORARY) -->
<script src="https://cdn.jsdelivr.net/npm/eruda"></script>
<script>
  eruda.init();
  
  // Log collector for easy copy/paste
  window.debugLogs = [];
  const originalLog = console.log;
  console.log = function(...args) {
    // Store logs with timestamp
    const timestamp = new Date().toLocaleTimeString();
    window.debugLogs.push(`[${timestamp}] ${args.join(' ')}`);
    // Keep max 100 logs to avoid memory issues
    if (window.debugLogs.length > 100) {
      window.debugLogs.shift();
    }
    originalLog.apply(console, args);
  };
  
  // Function to copy all logs
  window.copyLogs = function() {
    const allLogs = window.debugLogs.join('\n');
    navigator.clipboard.writeText(allLogs).then(() => {
      alert('Logs copiati negli appunti!');
    }).catch(() => {
      // Fallback: show logs in alert for manual copy
      prompt('Copia questi logs:', allLogs);
    });
  };
</script>

<!-- BACK TO TOP BUTTON -->
<button id="back-to-top" onclick="scrollToTop()">‚Üë</button>

